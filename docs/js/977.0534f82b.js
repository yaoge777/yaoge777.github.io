"use strict";(self["webpackChunkblog_vue3"]=self["webpackChunkblog_vue3"]||[]).push([[977],{3245:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var l=t(3396),i=t(5364),o=t(378),s=t.n(o),p=(t(1651),t(7474),t(2265),t(4610),t(6442),t(8817),t(7627));const m=e=>((0,l.dD)("data-v-4601cb3f"),e=e(),(0,l.Cn)(),e),r={class:"container"},d={style:{width:"90%"}},u=m((()=>(0,l._)("h1",null,"Vue组件通讯: v-model",-1))),a=m((()=>(0,l._)("p",null,"Vue3提供了多种组件通讯方式，今天我们来看其中的v-model方法",-1))),v=m((()=>(0,l._)("h2",{id:"vue1"},"#父组件写法",-1))),f=m((()=>(0,l._)("p",null,"我们先创建一个响应式变量，然后通过v-model将其传递给子组件",-1))),c=m((()=>(0,l._)("pre",null,"\n          \n            <template>\n              <div>\n                <h2>Parent Component</h2>\n                <ChildComponent v-model=\"message\" />\n                <p>Parent Component Message: {{ message }}</p>\n              </div>\n            </template>\n\n            <script setup>\n              import ChildComponent from './ChildComponent.vue';\n              import { ref } from 'vue';\n              const message = ref('');\n            <\/script>\n\n          ",-1))),_=m((()=>(0,l._)("h2",{id:"vue2"},"#子组件写法",-1))),h=m((()=>(0,l._)("p",null,"在子组件中，我们通过defineProps接受父组件传递过来的变量。 注意defineProps里变量的名称一定要写成modelValues，这个是固定用法。 如果在子组件中想要改变这个值并传回给父组件，我们可以使用defineEmits， 注意，defineEmits里变量名一定要写成update: modelValue，这个也是固定用法。",-1))),C=m((()=>(0,l._)("pre",null,'          \n          <template>\n            <div>\n              <h3>Child Component</h3>\n              <input type="text" v-model="modelValue" />\n              <p>Child Component Value: {{ modelValue }}</p>\n            </div>\n          </template>\n\n          <script setup lang="ts">\n            import { defineProps, defineEmits } from \'vue\';\n\n            interface Props {\n              modelValue: string;\n            }\n\n            interface Emits {\n              \'update:modelValue\': (value: string) => void;\n            }\n\n            const props = defineProps<Props>();\n            const emit = defineEmits<Emits>();\n\n          <\/script>\n\n        ',-1))),g=m((()=>(0,l._)("p",null,"这样一来我们就实现了一个最基础的v-model组件通讯。",-1))),P=m((()=>(0,l._)("h2",{id:"vue3"},"#v-model的参数",-1))),V=m((()=>(0,l._)("p",null,"上面说的，v-model默认使用modelValue作为参数。我们可以使用以下写法更改变量名称",-1))),E=m((()=>(0,l._)("pre",null,'\n          <ChildComponent v-model:title="message" />\n\n        ',-1))),w=m((()=>(0,l._)("p",null,"对应的子组件的写法则要改成",-1))),b=m((()=>(0,l._)("pre",null,"\n          interface Props {\n            title: string;\n          }\n\n          interface Emits {\n            'update: title ': (value: string) => void;\n          }\n\n          const props = defineProps<Props>();\n          const emit = defineEmits<Emits>();\n\n        ",-1))),Z=m((()=>(0,l._)("h2",{id:"vue4"},"#自定义修饰符",-1))),M=m((()=>(0,l._)("p",null,"v-model提供了.trim, .number, .lazy等内置修饰符。除此之外我们还可以自定义修饰符， 接下来我们来定义一个让字符串reverse的修饰符",-1))),W=m((()=>(0,l._)("pre",null,"\n        <template>\n          <div>\n            <h2>Parent Component</h2>\n            <ChildComponent v-model:title.reverse=\"message\" />\n            <p>Parent Component Message: {{ message }}</p>\n          </div>\n        </template>\n\n        <script setup>\n          import ChildComponent from './ChildComponent.vue';\n          import { ref } from 'vue';\n\n          const message = ref('');\n\n          <\/script>\n\n\n        ",-1))),k=m((()=>(0,l._)("pre",null,'          \n          <template>\n            <div>\n              <h3>Child Component</h3>\n              <input type="text" v-model="modelValue" @input="updateTitle"/>\n              <p>Child Component Value: {{ modelValue}}</p>\n            </div>\n          </template>\n\n          <script setup lang="ts">\n            import { defineProps, defineEmits } from \'vue\';\n\n            interface Props {\n              title: string;\n              titleModifier?: { \n                reverse :boolean\n              }\n            }\n\n            interface Emits {\n              \'update:titleValue\': (value: string) => void;\n            }\n\n            const props = defineProps<Props>();\n            const emit = defineEmits<Emits>();\n            const updateTitle = (e:Event) => {\n            const target = e.target as HTMLInputElement\n            const v = target.value\n\n            if(props.titleModifiers?.reverse){\n              const reversed = v.split().reverse().join("")\n              emit("update: titleValue ", reversed)\n            }\n            else{\n              emit("update: titleValue ", v)\n            }\n\n            }\n          <\/script>\n\n        ',-1))),y=m((()=>(0,l._)("p",null,"以上代码中我们在props里新增加了 titleModifier属性，这也是一个固定写法",-1)));var T=(0,l.aZ)({__name:"VueOne",setup(e){s().highlightAll();const n=(0,p.A)(),t=[{id:"vue1",title:"父组件写法"},{id:"vue2",title:"子组件写法"},{id:"vue3",title:"v-model的参数"},{id:"vue4",title:"自定义修饰符"}];return n.titles=t,(e,n)=>((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",d,[u,a,v,f,(0,l.Wm)(i.Z,{num:"cm1"},{default:(0,l.w5)((()=>[c])),_:1}),_,h,(0,l.Wm)(i.Z,{num:"cm2"},{default:(0,l.w5)((()=>[C])),_:1}),g,P,V,(0,l.Wm)(i.Z,{num:"cm3"},{default:(0,l.w5)((()=>[E])),_:1}),w,(0,l.Wm)(i.Z,{num:"cm4"},{default:(0,l.w5)((()=>[b])),_:1}),Z,M,(0,l.Wm)(i.Z,{num:"cm5"},{default:(0,l.w5)((()=>[W])),_:1}),(0,l.Wm)(i.Z,{num:"cm6"},{default:(0,l.w5)((()=>[k])),_:1}),y])]))}}),x=t(89);const A=(0,x.Z)(T,[["__scopeId","data-v-4601cb3f"]]);var D=A}}]);
//# sourceMappingURL=977.0534f82b.js.map