{"version":3,"file":"js/380.06d5a6d9.js","mappings":"+JAGO,MAAMA,GAAkBC,EAAAA,EAAAA,IAAY,UAAW,CACpDC,MAAOA,KACG,CACNC,WAAW,EACXC,UAAU,EACVC,YAAW,EACXC,OAAO,CAAC,CAACC,GAAG,GAAGC,MAAM,OAIzBC,QAAS,CAAC,EAGVC,QAAS,CAAC,G,+ECbZ,MACMC,EAAa,CAAEC,MAAO,aACtBC,EAAa,CAAC,MAOpB,OAA4BC,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,YACRC,MAAO,CACPC,IAAIC,QAEJC,MAAMC,GAER,MAAMJ,EAAQI,EAMRC,EAAWA,KACf,MAAMC,EAAcC,SAASC,cAAc,IAAIR,EAAMC,OACrDQ,UAAUC,UAAUC,UAAUL,EAAYM,cAC1CC,EAAAA,EAAAA,IAAU,CACRC,QAAS,QACTC,KAAM,WACN,EAMJ,MAAO,CAACC,EAAUC,KAChB,MAAMC,GAAuBC,EAAAA,EAAAA,IAAkB,aAE/C,OAAQC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO1B,EAAY,EAC3D2B,EAAAA,EAAAA,IAAaJ,EAAsB,CACjCH,KAAM,UACNnB,MAAO,cACP2B,QAASlB,GACR,CACDmB,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAiB,WAEnBC,EAAG,KAELC,EAAAA,EAAAA,GAAoB,OAAQ,CAC1BrC,GAAIS,EAAMC,KACT,EACD4B,EAAAA,EAAAA,IAAYb,EAAKc,OAAQ,YACxB,EAAGjC,IACN,CAEJ,I,QCpDA,MAAMkC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,sGCLA,MAAMC,EAAeC,KAAMC,EAAAA,EAAAA,IAAa,mBAAmBD,EAAEA,KAAIE,EAAAA,EAAAA,MAAcF,GACzEtC,EAAa,CAAEC,MAAO,aACtBC,EAAa,CAAEuC,MAAO,CAAC,MAAQ,QAC/BC,GAA0BC,EAAAA,EAAAA,IAAmB,qrBAA4rB,GACzuBC,EAA4BP,GAAa,KAAmBJ,EAAAA,EAAAA,GAAoB,MAAO,KAAM,qPAAsP,KACnVY,GAA2BF,EAAAA,EAAAA,IAAmB,s5BAAy5B,IAQ78B,OAA4BxC,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,QACRI,MAAMC,GAER,MAAMqC,GAAWzD,EAAAA,EAAAA,KACXM,EAAqB,CACnB,CACEC,GAAG,MACHC,MAAM,cAGR,CACED,GAAG,MACHC,MAAM,YAER,CACED,GAAG,MACHC,MAAM,QAER,CACED,GAAG,MACHC,MAAM,OAWhB,OAPAiD,EAASnD,OAASA,EAOX,CAAC0B,EAAUC,MACRG,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAO1B,EAAY,EAC3DiC,EAAAA,EAAAA,GAAoB,MAAO/B,EAAY,CACrCwC,GACAf,EAAAA,EAAAA,IAAaoB,EAAAA,EAAW,CAAEzC,IAAK,OAAS,CACtCuB,SAASC,EAAAA,EAAAA,KAAS,IAAM,CACtBc,KAEFZ,EAAG,IAELa,MAIN,I,QCxDA,MAAMT,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://blog-vue3/./src/store/index.ts","webpack://blog-vue3/./src/components/CodeModel.vue?568b","webpack://blog-vue3/./src/components/CodeModel.vue","webpack://blog-vue3/./src/views/articles/JsOne.vue?5b29","webpack://blog-vue3/./src/views/articles/JsOne.vue"],"sourcesContent":["import { defineStore } from 'pinia'\n\n\nexport const useCounterStore = defineStore('counter', {\n  state: () => {\n    return ({ \n      isArticle: true,\n      sideShow: true,\n      buttonShow:true,\n      titles:[{id:'',title:''}]\n    })\n  },\n\n  actions: {\n  },\n\n  getters: {\n    \n  },\n  \n})","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderSlot as _renderSlot, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3e52158c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = [\"id\"]\n\nimport { ElMessage } from 'element-plus';\n\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CodeModel',\n  props: {\n  num:String,\n},\n  setup(__props) {\n\nconst props = __props;\n\n\n\n\n\nconst copyCode = () => {\n  const codeElement = document.querySelector(`#${props.num}`) as HTMLBodyElement;\n  navigator.clipboard.writeText(codeElement.textContent as string);\n  ElMessage({\n    message: '复制成功！',\n    type: 'success',\n  })\n}\n\n  \n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_button = _resolveComponent(\"el-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_el_button, {\n      type: \"primary\",\n      class: \"copy-button\",\n      onClick: copyCode\n    }, {\n      default: _withCtx(() => [\n        _createTextVNode(\"复制代码\")\n      ]),\n      _: 1\n    }),\n    _createElementVNode(\"code\", {\n      id: props.num\n    }, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ], 8, _hoisted_2)\n  ]))\n}\n}\n\n})","import script from \"./CodeModel.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./CodeModel.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./CodeModel.vue?vue&type=style&index=0&id=3e52158c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3e52158c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1bd52e21\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = { style: {\"width\":\"90%\"} }\nconst _hoisted_3 = /*#__PURE__*/_createStaticVNode(\"<h1 data-v-1bd52e21>Javascript异步加载</h1><h2 id=\\\"js1\\\" data-v-1bd52e21>#为什么要使用异步加载</h2><p data-v-1bd52e21>我们在打开网页的时候，里面的文件内容有时会十分丰富，加载的时候可能要花费很多时间。我们要知道一个很重要的点，<span data-v-1bd52e21>js是一门单线程语言</span>。也就是说，如果一个特别大的任务阻塞了队列， 整个页面都会进入卡死状态。而这些问题的一个解决方法就是使用异步加载。</p><h2 id=\\\"js2\\\" data-v-1bd52e21>#异步机制如何实现</h2><p data-v-1bd52e21>要实现异步机制，我们需要维护两个队列。<span data-v-1bd52e21>执行栈和后台线程</span>。</p><p data-v-1bd52e21>a.执行栈是一种主线程用来提取和执行同步任务时的数据结构。</p><p data-v-1bd52e21>b.主线程在遇到异步任务时，会先将异步任务推入后台线程。在执行栈中的任务完成后再从后台线程提取任务。而后台线程又可以细分成微队列和宏队列。微队列包括Promise, process.nextTick()等任务， 而宏队列的常见任务包括setTimeout，setInterval等。特别注意执行顺序为优先微队列，其次再是宏队列。</p><h2 id=\\\"js3\\\" data-v-1bd52e21>#代码举例</h2><p data-v-1bd52e21>我们先来看以下代码</p>\", 9)\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"pre\", null, \"          console.log('1');\\n\\n          setTimeout(() => {\\n            console.log('2');\\n          }, 0);\\n\\n          Promise.resolve().then(() => {\\n            console.log('3');\\n          });\\n\\n          console.log('4');\\n\\n        \", -1))\nconst _hoisted_13 = /*#__PURE__*/_createStaticVNode(\"<p data-v-1bd52e21>打印的结果为1，4，3，2</p><p data-v-1bd52e21> 解释：</p><p data-v-1bd52e21>1.第一个 console.log(&#39;1&#39;) 在同步环境下执行，并将 1 打印到控制台。</p><p data-v-1bd52e21>2.setTimeout 函数被调用，将回调函数作为宏任务在最小延迟时间（0 毫秒）后执行。它不会立即执行。</p><p data-v-1bd52e21>3.Promise.resolve().then() 创建一个新的 Promise，并立即解析。then() 中的回调函数被添加到微任务队列中。</p><p data-v-1bd52e21>4.第二个 console.log(&#39;4&#39;) 在同步环境下执行，并将 4 打印到控制台。</p><p data-v-1bd52e21>5.此时，调用栈为空，JavaScript 检查微任务队列。</p><p data-v-1bd52e21>6.来自 Promise 的 then() 的回调函数被执行，并将 3 打印到控制台。</p><p data-v-1bd52e21>7.在微任务队列为空之后，JavaScript 检查宏任务队列。</p><p data-v-1bd52e21>8. setTimeout 的回调函数被执行，并将 2 打印到控制台。</p><h2 id=\\\"js4\\\" data-v-1bd52e21>#总结</h2><p data-v-1bd52e21>Js时间循环（event loop）的顺序为</p><p data-v-1bd52e21>1.执行栈处理同步任务。</p><p data-v-1bd52e21>2.当执行栈为空时，JavaScript 检查微任务队列并执行所有排队的微任务。</p><p data-v-1bd52e21>3.在微任务队列为空之后，JavaScript 检查宏任务队列，并执行队列中的下一个任务。</p><p data-v-1bd52e21>4.这个过程不断重复：执行栈、微任务队列、宏任务队列。</p>\", 16)\n\nimport CodeModel from '@/components/CodeModel.vue'\n\nimport {titleData} from '@/data/menuData'\nimport {useCounterStore} from '@/store/index'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'JsOne',\n  setup(__props) {\n\nconst useStore = useCounterStore()\nconst titles:titleData[] = [\n        {\n          id:'js1',\n          title:'为什么要使用异步加载'\n        },\n\n        {\n          id:'js2',\n          title:'异步机制如何实现'\n        },\n        {\n          id:'js3',\n          title:'代码举例'\n        },\n        {\n          id:'js4',\n          title:'总结'\n        },\n      ]        \n\nuseStore.titles = titles\n\n\n\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createVNode(CodeModel, { num: \"cm1\" }, {\n        default: _withCtx(() => [\n          _hoisted_12\n        ]),\n        _: 1\n      }),\n      _hoisted_13\n    ])\n  ]))\n}\n}\n\n})","import script from \"./JsOne.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./JsOne.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./JsOne.vue?vue&type=style&index=0&id=1bd52e21&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1bd52e21\"]])\n\nexport default __exports__"],"names":["useCounterStore","defineStore","state","isArticle","sideShow","buttonShow","titles","id","title","actions","getters","_hoisted_1","class","_hoisted_2","_defineComponent","__name","props","num","String","setup","__props","copyCode","codeElement","document","querySelector","navigator","clipboard","writeText","textContent","ElMessage","message","type","_ctx","_cache","_component_el_button","_resolveComponent","_openBlock","_createElementBlock","_createVNode","onClick","default","_withCtx","_createTextVNode","_","_createElementVNode","_renderSlot","$slots","__exports__","_withScopeId","n","_pushScopeId","_popScopeId","style","_hoisted_3","_createStaticVNode","_hoisted_12","_hoisted_13","useStore","CodeModel"],"sourceRoot":""}